"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.buildFetchOptions = exports.buildAgent = void 0;

var _proxyAgent = _interopRequireDefault(require("proxy-agent"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const defaultProxy = process.env.https_proxy || process.env.http_proxy || undefined;

const buildAgent = (proxy = defaultProxy) => proxy ? new _proxyAgent.default(proxy) : undefined;

exports.buildAgent = buildAgent;

const buildFetchOptions = (options = {}) => {
  const agent = buildAgent(options.proxy);
  return agent ? {
    agent
  } : undefined;
};

exports.buildFetchOptions = buildFetchOptions;
var _default = buildFetchOptions;
exports.default = _default;